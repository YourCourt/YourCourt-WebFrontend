<yourcourt-navbar></yourcourt-navbar>
<div class="card mb-3 ">
    <form [formGroup]="form" (ngSubmit)="createCourse()">

        <div class="form-group">
            <label for="title">Título</label>
            <input type="text" class="form-control"
                [ngClass]="{'is-invalid':form.get('title').touched && form.get('title').invalid}" id="title"
                placeholder="Título" formControlName="title" required minlength="3" maxLength="50">
            <div class="invalid-feedback" *ngIf="form.get('title').touched && form.get('title').invalid">
                <div *ngIf="form?.get('title').errors.required">El nombre es obligatorio.</div>
                <div *ngIf="form?.get('title').errors.minlength">El nombre debe ser de un mínimo de 3
                    caracteres.</div>
            </div>
        </div>


        <div class="form-group">
            <label for="description">Descripción</label>
            <textarea class="form-control"
                [ngClass]="{'is-invalid':form.get('description').touched && form.get('description').invalid}"
                id="description" placeholder="Descripción" cols="30" rows="10" formControlName="description"
                maxLength="512" required></textarea>
            <div class="invalid-feedback" *ngIf="form.get('description').touched && form.get('description').invalid">
                <div *ngIf="form?.get('description').errors.required">La descripción es obligatoria.</div>
            </div>
        </div>

        <div class="form-group">
            <label>Fecha de inicio: </label>
            <input type="date" name="startDate" id="startDate" class="form-control" formControlName="startDate" required
                future [ngClass]="{'is-invalid':form.get('startDate').touched && form.get('startDate').invalid}">
            <div class="invalid-feedback" *ngIf="form.get('startDate').touched && form.get('startDate').invalid">
                <div *ngIf="form.get('startDate').errors.required">No puede quedar vacío</div>
                <div *ngIf="form.get('startDate').errors.future">Debe ser una fecha futura</div>

            </div>
        </div>

        <div class="form-group">
            <label>Fecha de fin: </label>
            <input type="date" name="endDate" id="endDate" class="form-control" formControlName="endDate" required
                future [ngClass]="{'is-invalid':form.get('endDate').touched && form.get('endDate').invalid}">
            <div class="invalid-feedback" *ngIf="form.get('endDate').touched && form.get('endDate').invalid">
                <div *ngIf="form.get('endDate').errors.required">No puede quedar vacío</div>
                <div *ngIf="form.get('endDate').errors.future">Debe ser una fecha futura</div>

            </div>
        </div>

        <div class="text-center mb-2">
            <button *ngIf="!loading; else loadingButton" type="submit" class="btn btn-primary"
                [disabled]="!form.valid">Crear</button>
        </div>

        <ng-template #loadingButton>
            <button type="submit" class="btn btn-primary">
                <img style="width: 25%; display: unset;" src="../../../../assets/Spinner.gif">
            </button>
        </ng-template>

    </form>

</div>